(()=>{"use strict";const t=[{title:"test 1",description:"A desription for my default Todo",weekly:!0,favourite:!1},{title:"test 2",description:"A desription for my default Todo",weekly:!1,favourite:!0},{title:"test 3",description:"A desription for my default Todo",weekly:!1,favourite:!1}];let e="home";const n=t=>{const e=document.getElementById("modal"),n=document.getElementById("modal-backdrop");t?(e.style.display="flex",n.style.display="block"):(e.style.display="none",n.style.display="none")},o=t=>{const e=modal.style.display;"none"!==e&&e&&t?n():n(!0)},d=t=>{let n;return n="weekly"===e?t.filter((t=>t.weekly)):"favourites"===e?t.filter((t=>t.favourite)):t,n},l=(n,o)=>{const i=document.getElementById("displayed-todos-container");let a="";n.forEach(((t,e)=>{a+=`\n        <div class="todo-card">\n            <div class="todo-card-top-bar">\n                <p style="margin: 0;">${t.title}</p>\n                <div>\n                    <button id="favourite-button-todo-${e}" class="default-button favourite-button" type="button">\n                        <span id="${t.title}" class="material-icons">star</span>\n                    </button>\n                    <button id="close-button-todo-${e}" class="default-button close-button close-button-todo" type="button">\n                        <span id="${t.title}" class="material-icons">close</span>\n                    </button>\n                </div>\n            </div>\n            <p>${t.description}</p>\n        </div>\n        `})),i.innerHTML=`\n    <h3>${o.toUpperCase()}</h3>\n    <div class="todo-card-container">\n        ${a}\n    </div>\n    `;const c=document.querySelectorAll(".favourite-button"),s=document.querySelectorAll(".close-button-todo");c.forEach((e=>{e.addEventListener("click",(e=>{(e=>{const n=t.findIndex((t=>t.title===e));t[n]?.favourite?alert("This todo has already been favourited"):(t[n].favourite=!0,alert(`${t[n].title} added to favourites`))})(e.target.id)}))})),s.forEach((n=>{n.addEventListener("click",(n=>{(n=>{const o=t.findIndex((t=>t.title===n));t.splice(o,1),l(d(t),e),document.getElementById("todo-count").innerHTML=`Todo count: ${t.length}`})(n.target.id)}))}))};document.addEventListener("DOMContentLoaded",(()=>{(()=>{const t=new Date;document.getElementById("date-input").min=t.toISOString().split("T")[0]})(),l(t,"home"),document.getElementById("todo-count").innerHTML=`Todo count: ${t.length}`;const n=document.getElementById("close-button"),i=document.getElementById("create-button"),a=document.getElementById("create-todo-form"),c=document.getElementById("search-bar");document.querySelectorAll(".page-buttons").forEach((n=>{n.addEventListener("click",(()=>{c.value="",(n=>{const o=n.id.split("-button")[0];e=o,l(d(t),e)})(n)}))})),i.addEventListener("click",(()=>{o()})),n.addEventListener("click",(()=>{o(!0)})),a.addEventListener("submit",(n=>{n.preventDefault(),(()=>{const n=(()=>{const e=document.getElementById("modal-title").value;if(!t.map((t=>t.title)).includes(e)){const t={title:document.getElementById("modal-title").value,description:document.getElementById("modal-textarea").value,date:new Date(document.getElementById("date-input").value)};return document.getElementById("create-todo-form").reset(),t}alert("already created")})();if(n){const d=new Date,i=(n.date.getTime()-d.getTime())/864e5;t.push({...n,weekly:i<7,favourite:!1}),l(t,e),o(!0),document.getElementById("todo-count").innerHTML=`Todo count: ${t.length}`}})()})),c.addEventListener("input",(n=>{const{value:o}=n.target;(n=>{const o=t.filter((t=>t.title.includes(n)));l(d(o),e)})(o)}))}))})();